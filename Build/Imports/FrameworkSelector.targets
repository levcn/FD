<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- This is needed, because we cannot pass parameters to the $(Registry:) function. -->
  <PropertyGroup Condition=" '$(SilverlightVersion)' == 'v2.0' ">
    <SilverlightBuildResources>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v2.0\Install Path@Install Path)</SilverlightBuildResources>
    <TargetFrameworkDirectory>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v2.0\ReferenceAssemblies@SLRuntimeInstallPath)</TargetFrameworkDirectory>
    <SilverlightRuntimeVersion>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v2.0\ReferenceAssemblies@SLRuntimeInstallVersion)</SilverlightRuntimeVersion>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(SilverlightVersion)' == 'v3.0' ">
    <SilverlightBuildResources>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v3.0\Install Path@Install Path)</SilverlightBuildResources>
    <TargetFrameworkDirectory>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v3.0\ReferenceAssemblies@SLRuntimeInstallPath)</TargetFrameworkDirectory>
    <SilverlightRuntimeVersion>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v3.0\ReferenceAssemblies@SLRuntimeInstallVersion)</SilverlightRuntimeVersion>
  </PropertyGroup>
  
  <PropertyGroup Condition=" '$(SilverlightVersion)' == 'v4.0' ">
    <SilverlightBuildResources>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v4.0\Install Path@Install Path)</SilverlightBuildResources>
    <TargetFrameworkDirectory>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v4.0\ReferenceAssemblies@SLRuntimeInstallPath)</TargetFrameworkDirectory>
    <SilverlightRuntimeVersion>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v4.0\ReferenceAssemblies@SLRuntimeInstallVersion)</SilverlightRuntimeVersion>
  </PropertyGroup>
	<PropertyGroup Condition=" '$(SilverlightVersion)' == 'v5.0' ">
		<SilverlightBuildResources>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v5.0\Install Path@Install Path)</SilverlightBuildResources>
		<TargetFrameworkDirectory>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v5.0\ReferenceAssemblies@SLRuntimeInstallPath)</TargetFrameworkDirectory>
		<SilverlightRuntimeVersion>$(Registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Silverlight\v5.0\ReferenceAssemblies@SLRuntimeInstallVersion)</SilverlightRuntimeVersion>
	</PropertyGroup>
  <PropertyGroup>
    <TargetFrameworkSDKDirectory>$(SilverlightBuildResources)Libraries\Client</TargetFrameworkSDKDirectory>
  </PropertyGroup>
  
  <Import Project="$(MSBuildExtensionsPath32)\Microsoft\Silverlight\$(SilverlightVersion)\Microsoft.Silverlight.CSharp.targets" />
</Project>
